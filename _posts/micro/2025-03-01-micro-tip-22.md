---
layout: post
title: "자잘한 도움말 #22 Next.js에서 서버와 클라이언트의 괴리감 처리하기"
subtitle: "Hydration Mismatch"
description: ""
date: 2025-03-17 08:40:00 +0900
category: micro

id: 22
slug: hydration-mismatch
tags: [💡, Front-end, Next.js]

coverImage: "/assets/blog/coverImages/micro-21.png"

ogImage:
  url: "/assets/blog/coverImages/micro-21.png"
---

- Hydration Mismatch
    - Next.js 사용 시 문제
    - 대표적으로 new Date()
    - https://blog.hwahae.co.kr/all/tech/13604
    - 무시할 수 있는 hydration mismatch new Date
    - 무시할 수 없는 hydration mismatch 테마 (store 초기 설정시 로컬 스토리지에 저장된 테마 가져오는 코드에서 발생한 문제, 83ec7fb67b21fb3ebf32ec49e6c1a60ba66f6b67 커밋 참고) -> 이건 보류
- `suppressHydrationWarning` 한 줄 추가로 해결 가능하다.
- 하이드레이션이란?? -> Hack the terms로 가려다가 그냥 여기서 다뤄보면 좋을 것 같음



```tsx
import { format } from "date-fns";

type Props = {
  dateString: string;
};

const DateFormatter = ({ dateString }: Props) => {
  // Safari의 parsing 알고리즘이 유독 저열하기 때문에 전처리
  const date = new Date(
    Date.parse(dateString.replace(" ", "T").replace(" ", ""))
  );

  return (
    <time dateTime={dateString} suppressHydrationWarning>
      {format(date, "LLLL	d, yyyy")}
    </time>
  );
};

export default DateFormatter;
```

## TL;DR

## 이하 그리 중요하진 않은 내용들

## 내가 배운 것
