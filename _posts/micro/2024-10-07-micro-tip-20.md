---
layout: post
title: "ìžìž˜í•œ ë„ì›€ë§ #20 Next.js SSGì—ì„œ ì‹œìŠ¤í…œ ë‹¤í¬ ëª¨ë“œ ì„¤ì • ê°€ì ¸ì˜¤ê¸°"
subtitle: ""
description: ""
date: 2024-10-07 21:55:00 +0900
category: micro

id: 20
slug: system-dark-mode-in-next-js-ssg
tags: [ðŸ’¡, Front-end, Web Browser]

coverImage: "/assets/blog/coverImages/micro-20.png"

ogImage:
  url: "/assets/blog/coverImages/micro-20.png"
---

## TL;DR

## ì´í•˜ ê·¸ë¦¬ ì¤‘ìš”í•˜ì§„ ì•Šì€ ë‚´ìš©ë“¤

## ë‚´ê°€ ë°°ìš´ ê²ƒ

----

- ì£¼ì œë¥¼ ì–´ë””ì— ì¤‘ì ì„ ë‘˜ ê²ƒì¸ê°€
  - ë‹¤í¬ëª¨ë“œ ì„¤ì •í•˜ëŠ” ë°©ë²•?
  - SSG ê°œë°œ ì‹œ ë°œìƒí•  ìˆ˜ ìžˆëŠ” ë¬¸ì œì ?
  - ìƒíƒœê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© ë³€ì²œì‚¬?
- ì¼ë‹¨ ì£¼ì œëŠ” Nextjs SSGì— ì´ˆì ì„ ë‘¡ì‹œë‹¤.
  - ê¸°ì¡´ ë¸”ë¡œê·¸ë¥¼ ë°”ê¾¼ ì´ìœ 
  - ì™œ Nextjsì¸ê°€
  - ì™œ SSGì¸ê°€
  - SSGë¡œ ê°œë°œí•˜ë©´ì„œ ê³¨ì¹˜ì•„íŒ ë˜ ë¬¸ì œ
    - ë¹Œë“œì‹œì  ìƒíƒœì™€ í´ë¼ì´ì–¸íŠ¸ì˜ ìƒíƒœê°€ ë‹¤ë¥¸ í˜„ìƒ
      - ì´ê²Œ ì™œ ë¬¸ì œê°€ ë˜ëŠ”ê°€? ë„ ì¡°ì‚¬í•  ê²ƒ.



- ì‹¤ì œ ì‚¬ìš© ì½”ë“œ

```javascript
import { useEffect } from "react";
import { create } from "zustand";

type Store = {
  isDarkMode: boolean;
  toggleDark: () => void;
  setIsDarkMode: (isDarkMode: boolean) => void;
};

const useStore = create<Store>()((set) => {
  return {
    isDarkMode: false,
    toggleDark: () => set((state) => ({ isDarkMode: !state.isDarkMode })),
    setIsDarkMode: (isDarkMode) => set((state) => ({ isDarkMode })),
  };
});

export const useDarkMode = () => {
  const { isDarkMode, toggleDark, setIsDarkMode } = useStore();

  // useStoreì—ì„œ ë°”ë¡œ window ê°ì²´ì˜ ì¡´ìž¬ ì—¬ë¶€ë¥¼ íŒŒì•…í•˜ë©° isDarkModeë¥¼ ê²°ì •ì§€ì„ ê²½ìš°
  // ì„œë²„ì‚¬ì´ë“œ ë Œë”ë§ê³¼ í´ë¼ì´ì–¸íŠ¸ ì‚¬ì´ë“œ ë Œë”ë§ì˜ ì´ˆê¸° ìƒíƒœ ì°¨ì´ë¡œ ì¸í•´ ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚´
  // ë¨¼ì € ìƒíƒœ ìƒì„± í›„ -> useEffect í›…ìœ¼ë¡œ ì‹œìŠ¤í…œ ì„¤ì •ì„ í™•ì¸
  useEffect(() => {
    const mediaQueryList = window.matchMedia("(prefers-color-scheme: dark)");
    const updateDarkMode = (e: MediaQueryListEvent) => {
      setIsDarkMode(e.matches);
    };

    // ì´ˆê¸° ìƒíƒœ ì„¤ì •
    setIsDarkMode(mediaQueryList.matches);

    // ë¦¬ìŠ¤ë„ˆ ë“±ë¡
    mediaQueryList.addEventListener("change", updateDarkMode);

    // ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ ë¦¬ìŠ¤ë„ˆ ì œê±°
    return () => {
      mediaQueryList.removeEventListener("change", updateDarkMode);
    };
  }, []);

  return { isDarkMode, toggleDark };
};

export default useStore;
```